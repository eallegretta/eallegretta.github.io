window.paletools = window.paletools || {};
window.paletools['palesnipe-1.9.1'] = "KGZ1bmN0aW9uIChidXR0b25zKSB7DQogICAgY29uc3QgVkVSU0lPTiA9ICJ2MS45LjEiOw0KDQogICAgYnV0dG9ucyA9ICQuZXh0ZW5kKHsNCiAgICAgICAgYmFjazogNDksDQogICAgICAgIGVuYWJsZURpc2FibGU6IDkyLA0KICAgICAgICBsaXN0czogew0KICAgICAgICAgICAgdXA6IDM4LA0KICAgICAgICAgICAgZG93bjogNDAsDQogICAgICAgICAgICBwcmV2OiAzNywNCiAgICAgICAgICAgIG5leHQ6IDM5LA0KICAgICAgICB9LA0KICAgICAgICBzZWFyY2g6IHsNCiAgICAgICAgICAgIGRlY01pbkJpZDogMzcsDQogICAgICAgICAgICBpbmNNaW5CaWQ6IDM5LA0KICAgICAgICAgICAgZGVjTWF4QmlkOiAzNSwNCiAgICAgICAgICAgIGluY01heEJpZDogMzYsDQogICAgICAgICAgICBkZWNNaW5CdXk6IDQ2LA0KICAgICAgICAgICAgaW5jTWluQnV5OiAzNCwNCiAgICAgICAgICAgIGRlY01heEJ1eTogNDAsDQogICAgICAgICAgICBpbmNNYXhCdXk6IDM4LA0KICAgICAgICAgICAgc2VhcmNoOiA1MA0KICAgICAgICB9LA0KICAgICAgICByZXN1bHRzOiB7DQogICAgICAgICAgICBiaWQ6IDUyLA0KICAgICAgICAgICAgYnV5OiA1MSwNCiAgICAgICAgICAgIHRyYW5zZmVyOiA4MiwNCiAgICAgICAgICAgIGNsdWI6IDY3LA0KICAgICAgICAgICAgcHJlc3NFbnRlcjogdHJ1ZSwNCiAgICAgICAgICAgIGF1dG9CdXk6IGZhbHNlLA0KICAgICAgICAgICAgcHJldmVudEJhY2s6IGZhbHNlLA0KICAgICAgICAgICAgc2VsbDogODEsDQogICAgICAgICAgICBkZWNCaWQ6IDQ2LA0KICAgICAgICAgICAgaW5jQmlkOiAzNA0KICAgICAgICB9DQogICAgfSwgYnV0dG9ucyB8fCB7fSk7DQogICAgbGV0IHAgPSBidXR0b25zOw0KICAgIGxldCBlbmFibGVkID0gdHJ1ZTsNCiAgICBsZXQgYmFja0J1dHRvbkxhc3REYXRlID0gbmV3IERhdGUoKTsNCiAgICBsZXQgYmFja0J1dHRvblByZXNzZWRPblJlc3VsdCA9IGZhbHNlOw0KDQogICAgLy8gcmVzZXQgY29uc29sZQ0KICAgIHZhciBpZnJhbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpZnJhbWUnKTsNCiAgICBpZnJhbWUuc3R5bGUuZGlzcGxheSA9ICdub25lJzsNCiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGlmcmFtZSk7DQogICAgd2luZG93LmNvbnNvbGUgPSBpZnJhbWUuY29udGVudFdpbmRvdy5jb25zb2xlOw0KDQogICAgd2luZG93Lk1BWF9ORVdfSVRFTVMgPSBOdW1iZXIuTUFYX1ZBTFVFOw0KDQogICAgY29uc3QNCiAgICAgICAgbCA9IGNvbnNvbGUubG9nLA0KICAgICAgICBsb2MgPSB3aW5kb3cuc2VydmljZXMuTG9jYWxpemF0aW9uLA0KICAgICAgICBCQUNLX0JVVFRPTl9USFJFU0hPTEQgPSA1MDAsDQogICAgICAgIGRpc3BhdGNoTW91c2VFdmVudCA9ICgkdGFyZ2V0LCBldmVudE5hbWUpID0+IHsNCiAgICAgICAgICAgIGlmICgkdGFyZ2V0Lmxlbmd0aCA9PSAwKSByZXR1cm4gZmFsc2U7DQogICAgICAgICAgICBjb25zdCBtb3VzZUV2ZW50ID0gZG9jdW1lbnQuY3JlYXRlRXZlbnQoJ01vdXNlRXZlbnRzJyk7DQogICAgICAgICAgICBtb3VzZUV2ZW50LmluaXRFdmVudChldmVudE5hbWUpOw0KICAgICAgICAgICAgJHRhcmdldFswXS5kaXNwYXRjaEV2ZW50KG1vdXNlRXZlbnQpOw0KICAgICAgICAgICAgcmV0dXJuIHRydWU7DQogICAgICAgIH0sDQogICAgICAgIG1vdXNlRG93biA9IHRhcmdldCA9PiBkaXNwYXRjaE1vdXNlRXZlbnQodGFyZ2V0LCAnbW91c2Vkb3duJyksDQogICAgICAgIG1vdXNlVXAgPSB0YXJnZXQgPT4gZGlzcGF0Y2hNb3VzZUV2ZW50KHRhcmdldCwgJ21vdXNldXAnKSwNCiAgICAgICAgbW91c2VDbGljayA9ICh0YXJnZXQsIGRlbGF5LCBjYWxsYmFjaykgPT4gew0KICAgICAgICAgICAgaWYoZGVsYXkpew0KICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gew0KICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhtb3VzZUNsaWNrKHRhcmdldCkpOw0KICAgICAgICAgICAgICAgIH0sIGRlbGF5KTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGVsc2Ugew0KICAgICAgICAgICAgICAgIHJldHVybiBtb3VzZURvd24odGFyZ2V0KSAmJiBtb3VzZVVwKHRhcmdldCk7DQogICAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgIGJ1eU5vdyA9IChjYWxsYmFjaykgPT4gew0KICAgICAgICAgICAgaWYgKG1vdXNlQ2xpY2soYnV5QnRuKCkpKSB7DQogICAgICAgICAgICAgICAgaWYgKHAucmVzdWx0cy5wcmVzc0VudGVyKSB7DQogICAgICAgICAgICAgICAgICAgIHRyeVByZXNzT2tCdG4oY2FsbGJhY2spOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICAgICAgdHJ5UHJlc3NPa0J0biA9IChjYWxsYmFjaykgPT4gew0KICAgICAgICAgICAgaWYgKCFtb3VzZUNsaWNrKGVudGVyQnRuKCkpKSB7DQogICAgICAgICAgICAgICAgaWYoY2FsbGJhY2spew0KICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGNhbGxiYWNrKGZhbHNlKSwgMCk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgIHNldFRpbWVvdXQodHJ5UHJlc3NPa0J0biwgMTApOw0KICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGVsc2Ugew0KICAgICAgICAgICAgICAgIGlmKGNhbGxiYWNrKXsNCiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2sodHJ1ZSk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9LA0KICAgICAgICBiYWNrID0gKCkgPT4gew0KICAgICAgICAgICAgbCgnYmFjaycpOw0KICAgICAgICAgICAgLy8gZm9yY2UgZG91YmxlIGJhY2sgd2hlbiB0aGVyZSBpcyBhIGNhcmQgb24gdGhlIGxpc3QNCiAgICAgICAgICAgIC8vIGlmIChuZXcgRGF0ZSgpIC0gYmFja0J1dHRvbkxhc3REYXRlIDwgQkFDS19CVVRUT05fVEhSRVNIT0xEKSB7DQogICAgICAgICAgICAvLyAgICAgcmV0dXJuOw0KICAgICAgICAgICAgLy8gfQ0KICAgICAgICAgICAgLy8gYmFja0J1dHRvbkxhc3REYXRlID0gbmV3IERhdGUoKTsNCiAgICAgICAgICAgIGlmICghbW91c2VDbGljayhiYWNrQnRuKCkpKSB7DQogICAgICAgICAgICAgICAgc2V0VGltZW91dChiYWNrLCAxKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCg0KICAgICAgICBzZWFyY2ggPSAoKSA9PiB7DQogICAgICAgICAgICBtb3VzZUNsaWNrKHNlYXJjaEJ0bigpKTsNCiAgICAgICAgICAgIGlmKHAucmVzdWx0cy5hdXRvQnV5KXsNCiAgICAgICAgICAgICAgICBpZihzZWFyY2hSZXN1bHRzKCkgPT0gMCl7DQogICAgICAgICAgICAgICAgICAgIGwoJ3Jlc2VhcmNoaW5nJyk7DQogICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoc2VhcmNoLCAxMCk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICBsKCQoIi51dC1uby1yZXN1bHRzLXZpZXciKS5sZW5ndGgpOw0KICAgICAgICAgICAgICAgICAgICBpZigkKCIudXQtbm8tcmVzdWx0cy12aWV3IikubGVuZ3RoID4gMCl7DQogICAgICAgICAgICAgICAgICAgICAgICBsKCdubyByZXN1bHRzJyk7DQogICAgICAgICAgICAgICAgICAgICAgICBiYWNrKCk7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgZWxzZSB7DQogICAgICAgICAgICAgICAgICAgICAgICBsKCdidXlpbmcnKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGJ1eU5vdygoYm91Z2h0KSA9PiB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoYm91Z2h0KXsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbW91c2VDbGljayh0cmFuc2ZlckJ0bigpKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICAgICAgfSAgICANCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgIH0sDQoNCiAgICAgICAgdHJhbnNmZXJCdG4gPSAoKSA9PiAkKGAudXQtYnV0dG9uLWdyb3VwID4gYnV0dG9uOmNvbnRhaW5zKCcke2xvYy5sb2NhbGl6ZSgnaW5mb3BhbmVsLmxhYmVsLnNlbmRUcmFkZVBpbGUnKX0nKWApLA0KICAgICAgICBjbHViQnRuID0gKCkgPT4gJChgLnV0LWJ1dHRvbi1ncm91cCA+IGJ1dHRvbjpjb250YWlucygnJHtsb2MubG9jYWxpemUoJ2luZm9wYW5lbC5sYWJlbC5zdG9yZUluQ2x1YicpfScpYCksDQogICAgICAgIHNlbGxCdG4gPSAoKSA9PiAkKGAudXQtYnV0dG9uLWdyb3VwID4gYnV0dG9uOmNvbnRhaW5zKCcke2xvYy5sb2NhbGl6ZSgnaW5mb3BhbmVsLmxhYmVsLmRpc2NhcmQnKX0nKWApLA0KICAgICAgICBidXlCdG4gPSAoKSA9PiAkKCcuYnV5QnV0dG9uJyksDQogICAgICAgIGJhY2tCdG4gPSAoKSA9PiAkKCcudXQtbmF2aWdhdGlvbi1idXR0b24tY29udHJvbCcpLA0KICAgICAgICBlbnRlckJ0biA9ICgpID0+JCgnLmRpYWxvZy1ib2R5IC51dC1idXR0b24tZ3JvdXAgYnV0dG9uOmVxKDApJyksDQogICAgICAgIHNlYXJjaEJ0biA9ICgpID0+ICQoJy5idXR0b24tY29udGFpbmVyIC5idG4tc3RhbmRhcmQuY2FsbC10by1hY3Rpb24nKSwNCiAgICAgICAgc2VhcmNoUmVzdWx0cyA9ICgpID0+JCgnLlNlYXJjaFJlc3VsdHMnKS5sZW5ndGgsDQoNCiAgICAgICAga2V5cyA9ICgpID0+IHsNCiAgICAgICAgICAgIGxldCBiID0ge307DQoNCiAgICAgICAgICAgIGJbcC5iYWNrXSA9ICgpID0+IGJhY2soKTsNCg0KICAgICAgICAgICAgaWYgKCQoJy51dC1tYXJrZXQtc2VhcmNoLWZpbHRlcnMtdmlldycpLmxlbmd0aCA+IDApIHsNCiAgICAgICAgICAgICAgICBiW3Auc2VhcmNoLmRlY01pbkJpZF0gPSAoKSA9PiBtb3VzZUNsaWNrKCQoJy5kZWNyZW1lbnQtdmFsdWUnKSk7DQogICAgICAgICAgICAgICAgYltwLnNlYXJjaC5pbmNNaW5CaWRdID0gKCkgPT4gbW91c2VDbGljaygkKCcuaW5jcmVtZW50LXZhbHVlJykpOw0KICAgICAgICAgICAgICAgIGJbcC5zZWFyY2guZGVjTWF4QmlkXSA9ICgpID0+IG1vdXNlQ2xpY2soJCgnLmRlY3JlbWVudC12YWx1ZTplcSgxKScpKTsNCiAgICAgICAgICAgICAgICBiW3Auc2VhcmNoLmluY01heEJpZF0gPSAoKSA9PiBtb3VzZUNsaWNrKCQoJy5pbmNyZW1lbnQtdmFsdWU6ZXEoMSknKSk7DQogICAgICAgICAgICAgICAgYltwLnNlYXJjaC5kZWNNaW5CdXldID0gKCkgPT4gbW91c2VDbGljaygkKCcuZGVjcmVtZW50LXZhbHVlOmVxKDIpJykpOw0KICAgICAgICAgICAgICAgIGJbcC5zZWFyY2guaW5jTWluQnV5XSA9ICgpID0+IG1vdXNlQ2xpY2soJCgnLmluY3JlbWVudC12YWx1ZTplcSgyKScpKTsNCiAgICAgICAgICAgICAgICBiW3Auc2VhcmNoLmRlY01heEJ1eV0gPSAoKSA9PiBtb3VzZUNsaWNrKCQoJy5kZWNyZW1lbnQtdmFsdWU6ZXEoMyknKSk7DQogICAgICAgICAgICAgICAgYltwLnNlYXJjaC5pbmNNYXhCdXldID0gKCkgPT4gbW91c2VDbGljaygkKCcuaW5jcmVtZW50LXZhbHVlOmVxKDMpJykpOw0KICAgICAgICAgICAgICAgIGJbcC5zZWFyY2guc2VhcmNoXSA9ICgpID0+IHNlYXJjaCgpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgZWxzZSB7DQogICAgICAgICAgICAgICAgbGV0IGl0ZW1zID0gJCgiLmxpc3RGVVRJdGVtIik7DQogICAgICAgICAgICAgICAgbGV0IGl0ZW1zRXhpc3RzID0gaXRlbXMubGVuZ3RoID4gMDsNCiAgICAgICAgICAgICAgICBsZXQgaXRlbXNDb250YWluZXIgPSBpdGVtcy5wYXJlbnRzKCcucGFnaW5hdGVkLCAudXQtd2F0Y2gtbGlzdC12aWV3LCAudXQtdHJhbnNmZXItbGlzdC12aWV3Jyk7DQogICAgICAgICAgICAgICAgaWYgKGl0ZW1zQ29udGFpbmVyLmxlbmd0aCA9PSAwKSB7DQogICAgICAgICAgICAgICAgICAgIGl0ZW1zQ29udGFpbmVyID0gaXRlbXMucGFyZW50KCk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGlmIChpdGVtc0V4aXN0cyAmJiAkKCcuRGV0YWlsUGFuZWwgPiAuYmlkT3B0aW9ucycpLmxlbmd0aCA+IDApIHsNCiAgICAgICAgICAgICAgICAgICAgYltwLnJlc3VsdHMuYmlkXSA9ICgpID0+IG1vdXNlQ2xpY2soJCgnLmJpZEJ1dHRvbicpKTsNCiAgICAgICAgICAgICAgICAgICAgYltwLnJlc3VsdHMuYnV5XSA9ICgpID0+IGJ1eU5vdygpOw0KICAgICAgICAgICAgICAgICAgICBiW3AucmVzdWx0cy5kZWNCaWRdID0gKCkgPT4gbW91c2VDbGljaygkKCcuYmlkT3B0aW9ucyAuZGVjcmVtZW50LXZhbHVlJykpOw0KICAgICAgICAgICAgICAgICAgICBiW3AucmVzdWx0cy5pbmNCaWRdID0gKCkgPT4gbW91c2VDbGljaygkKCcuYmlkT3B0aW9ucyAuaW5jcmVtZW50LXZhbHVlJykpOw0KICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgIGlmIChpdGVtc0V4aXN0cyAmJiAkKCcuRGV0YWlsUGFuZWwgPiAudXQtYnV0dG9uLWdyb3VwJykubGVuZ3RoID4gMCkgew0KICAgICAgICAgICAgICAgICAgICBiW3AucmVzdWx0cy50cmFuc2Zlcl0gPSAoKSA9PiBtb3VzZUNsaWNrKHRyYW5zZmVyQnRuKCkpOw0KICAgICAgICAgICAgICAgICAgICBiW3AucmVzdWx0cy5jbHViXSA9ICgpID0+IG1vdXNlQ2xpY2soY2x1YkJ0bigpKTsNCiAgICAgICAgICAgICAgICAgICAgYltwLnJlc3VsdHMuc2VsbF0gPSAoKSA9PiBtb3VzZUNsaWNrKHNlbGxCdG4oKSk7DQogICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgICAgaWYgKGl0ZW1zRXhpc3RzKSB7DQogICAgICAgICAgICAgICAgICAgIGJbcC5saXN0cy51cF0gPSAoKSA9PiB7DQogICAgICAgICAgICAgICAgICAgICAgICBsZXQgY29udGFpbmVyID0gaXRlbXNDb250YWluZXI7DQogICAgICAgICAgICAgICAgICAgICAgICBsZXQgc2VsZWN0ZWQgPSAkKCcubGlzdEZVVEl0ZW0uc2VsZWN0ZWQnLCBjb250YWluZXIpLnByZXYoKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmKHNlbGVjdGVkLmxlbmd0aCA9PT0gMCl7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWQgPSAkKCIubGlzdEZVVEl0ZW06bGFzdC1jaGlsZCIsIGNvbnRhaW5lcik7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICBtb3VzZUNsaWNrKHNlbGVjdGVkKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lci5jc3MoJ3Bvc2l0aW9uJywgJ3JlbGF0aXZlJyk7DQogICAgICAgICAgICAgICAgICAgICAgICBjb250YWluZXIuc2Nyb2xsVG9wKGNvbnRhaW5lci5zY3JvbGxUb3AoKSArIHNlbGVjdGVkLnBvc2l0aW9uKCkudG9wIC0gc2VsZWN0ZWQuaGVpZ2h0KCkpOw0KICAgICAgICAgICAgICAgICAgICB9Ow0KICAgICAgICAgICAgICAgICAgICBiW3AubGlzdHMuZG93bl0gPSAoKSA9PiB7DQogICAgICAgICAgICAgICAgICAgICAgICBsZXQgY29udGFpbmVyID0gaXRlbXNDb250YWluZXI7DQogICAgICAgICAgICAgICAgICAgICAgICBsZXQgc2VsZWN0ZWQgPSAkKCcubGlzdEZVVEl0ZW0uc2VsZWN0ZWQnLCBjb250YWluZXIpLm5leHQoKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmKHNlbGVjdGVkLmxlbmd0aCA9PT0gMCl7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWQgPSAkKCIubGlzdEZVVEl0ZW06Zmlyc3QtY2hpbGQiLCBjb250YWluZXIpOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgbW91c2VDbGljayhzZWxlY3RlZCk7DQogICAgICAgICAgICAgICAgICAgICAgICBjb250YWluZXIuY3NzKCdwb3NpdGlvbicsICdyZWxhdGl2ZScpOw0KICAgICAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyLnNjcm9sbFRvcChjb250YWluZXIuc2Nyb2xsVG9wKCkgKyBzZWxlY3RlZC5wb3NpdGlvbigpLnRvcCk7DQogICAgICAgICAgICAgICAgICAgIH07DQogICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgICAgaWYgKCQoJy5wYWdpbmdDb250YWluZXInKS5sZW5ndGggPiAwKSB7DQogICAgICAgICAgICAgICAgICAgIGJbcC5saXN0cy5wcmV2XSA9ICgpID0+IG1vdXNlQ2xpY2soJCgnLnBhZ2luZ0NvbnRhaW5lciAucHJldjp2aXNpYmxlJykpOw0KICAgICAgICAgICAgICAgICAgICBiW3AubGlzdHMubmV4dF0gPSAoKSA9PiBtb3VzZUNsaWNrKCQoJy5wYWdpbmdDb250YWluZXIgLm5leHQ6dmlzaWJsZScpKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIHJldHVybiBiOw0KICAgICAgICB9Ow0KDQogICAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgZSA9PiB7DQogICAgICAgIGlmIChlLmtleUNvZGUgPT0gcC5lbmFibGVEaXNhYmxlKSB7DQogICAgICAgICAgICBlbmFibGVkID0gIWVuYWJsZWQ7DQogICAgICAgIH0NCg0KICAgICAgICBpZiAoIWVuYWJsZWQpIHsNCiAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgfQ0KDQogICAgICAgIGxldCBhY3Rpb24gPSBrZXlzKClbZS5rZXlDb2RlXTsNCiAgICAgICAgaWYgKGFjdGlvbikgYWN0aW9uKCk7DQogICAgfSk7DQp9KSgpOw0K"