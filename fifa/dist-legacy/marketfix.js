window.paletools = window.paletools || {};
window.paletools['marketfix-1.2"'] = "LyoNCk9yaWdpbmFsIEF1dGhvcjogaHR0cHM6Ly9naXRodWIuY29tL3Nlbm5lZGplbQ0KT3JpZ2luYWwgU291cmNlOiBodHRwczovL2dpdGh1Yi5jb20vc2VubmVkamVtL2ZpeC1maWx0ZXJzL2Jsb2IvbWFpbi9qZWplLmpzDQoqLw0KDQooZnVuY3Rpb24oKXsNCiAgICBjb25zdCBWRVJTSU9OID0gInYxLjIiOw0KDQogICAgVVRNYXJrZXRTZWFyY2hSZXN1bHRzVmlld0NvbnRyb2xsZXIucHJvdG90eXBlLl9yZXF1ZXN0SXRlbXMgPSBmdW5jdGlvbiBfcmVxdWVzdEl0ZW1zKGwpIHsNCiAgICAgICAgdGhpcy5fcGFnaW5hdGlvblZpZXdNb2RlbC5zdG9wQXVjdGlvblVwZGF0ZXMoKTsNCiAgICAgICAgaWYodGhpcy5fc2VhcmNoQ3JpdGVyaWEuX3R5cGUgPT0gInBsYXllciIpew0KICAgICAgICAgICAgdmFyIGNvbnRleHQgPSB0aGlzOw0KICAgIA0KICAgICAgICAgICAgcmVxdWVzdEl0ZW1zKCkNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIHNlcnZpY2VzLkl0ZW0uc2VhcmNoVHJhbnNmZXJNYXJrZXQodGhpcy5fc2VhcmNoQ3JpdGVyaWEsIGwpLm9ic2VydmUodGhpcywgZnVuY3Rpb24gX29uUmVxdWVzdEl0ZW1zQ29tcGxldGUoZSwgdCkgew0KICAgICAgICAgICAgICAgIGlmIChlLnVub2JzZXJ2ZSh0aGlzKSwNCiAgICAgICAgICAgICAgICAhdC5zdWNjZXNzKQ0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gTmV0d29ya0Vycm9yTWFuYWdlci5jaGVja0NyaXRpY2FsU3RhdHVzKHQuc3RhdHVzKSA/IHZvaWQgTmV0d29ya0Vycm9yTWFuYWdlci5oYW5kbGVTdGF0dXModC5zdGF0dXMpIDogKHNlcnZpY2VzLk5vdGlmaWNhdGlvbi5xdWV1ZShbc2VydmljZXMuTG9jYWxpemF0aW9uLmxvY2FsaXplKCJwb3B1cC5lcnJvci5zZWFyY2hlcnJvciIpLCBlbnVtcy5VSU5vdGlmaWNhdGlvblR5cGUuTkVHQVRJVkVdKSwNCiAgICAgICAgICAgICAgICAgICAgdm9pZCB0aGlzLmdldE5hdmlnYXRpb25Db250cm9sbGVyKCkucG9wVmlld0NvbnRyb2xsZXIoKSk7DQogICAgICAgICAgICAgICAgaWYgKDAgPCB0aGlzLl9zZWFyY2hDcml0ZXJpYS5vZmZzZXQgJiYgMCA9PT0gdC5kYXRhLml0ZW1zLmxlbmd0aCkNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5fcmVxdWVzdEl0ZW1zKGwgLSAxKTsNCiAgICAgICAgICAgICAgICBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgdmFyIGkgPSB0aGlzLl9wYWdpbmF0aW9uVmlld01vZGVsLmdldE51bUl0ZW1zUGVyUGFnZSgpDQogICAgICAgICAgICAgICAgICAgIHZhciBvID0gdC5kYXRhLml0ZW1zLnNsaWNlKCk7DQogICAgICAgICAgICAgICAgICAgIHNldEl0ZW1zKHRoaXMsbyxpLHQuZGF0YS5pdGVtcykNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgdGhpcy5fcGFnaW5hdGlvblZpZXdNb2RlbC5zdGFydEF1Y3Rpb25VcGRhdGVzKCkNCiAgICAgICAgICAgIH0pDQogICAgICAgIH0NCiAgICANCiAgICAgICAgZnVuY3Rpb24gdXBkYXRlKGRhdGEsY29udGV4dCkgew0KICAgICAgICAgICAgVVRJdGVtRW50aXR5RmFjdG9yeS5wcm90b3R5cGUuYXVjdGlvbkZhY3RvcnkgPSBuZXcgVVRBdWN0aW9uRW50aXR5RmFjdG9yeSgpDQogICAgICAgICAgICB2YXIgaSA9IGNvbnRleHQuX3BhZ2luYXRpb25WaWV3TW9kZWwuZ2V0TnVtSXRlbXNQZXJQYWdlKCkNCiAgICAgICAgICAgIHZhciBvID0gVVRJdGVtRW50aXR5RmFjdG9yeS5wcm90b3R5cGUuZ2VuZXJhdGVJdGVtc0Zyb21BdWN0aW9uRGF0YShkYXRhLmF1Y3Rpb25JbmZvKQ0KICAgICAgICAgICAgaWYgKDAgPCBjb250ZXh0Ll9zZWFyY2hDcml0ZXJpYS5vZmZzZXQgJiYgMCA9PT0gZGF0YS5hdWN0aW9uSW5mby5sZW5ndGgpDQogICAgICAgICAgICAgICAgICAgIGNvbnRleHQuX3JlcXVlc3RJdGVtcyhsIC0gMSk7DQogICAgICAgICAgICBlbHNlIHsNCiAgICAgICAgICAgICAgIHNldEl0ZW1zKGNvbnRleHQsbyxpLGRhdGEuYXVjdGlvbkluZm8pDQogICAgICAgICAgICB9DQogICAgICAgICAgICBjb250ZXh0Ll9wYWdpbmF0aW9uVmlld01vZGVsLnN0YXJ0QXVjdGlvblVwZGF0ZXMoKSAgIA0KICAgICAgICB9DQogICAgDQogICAgICAgIGZ1bmN0aW9uIGFkZEZpbHRlcnMoY29udGV4dCx1cmwpew0KICAgICAgICAgICAgaWYoY29udGV4dC5fc2VhcmNoQ3JpdGVyaWEucmFyaXRpZXMubGVuZ3RoPjApew0KICAgICAgICAgICAgICAgIHVybCA9IHVybCArICImcmFyaXR5SWRzPSIrY29udGV4dC5fc2VhcmNoQ3JpdGVyaWEucmFyaXRpZXNbMF0gICAgDQogICAgICAgICAgICB9DQogICAgICAgICAgICBpZihjb250ZXh0Ll9zZWFyY2hDcml0ZXJpYS5uYXRpb24hPS0xKXsNCiAgICAgICAgICAgICAgICB1cmwgPSB1cmwgKyAiJm5hdD0iKyBjb250ZXh0Ll9zZWFyY2hDcml0ZXJpYS5uYXRpb24NCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGlmKGNvbnRleHQuX3NlYXJjaENyaXRlcmlhLmxldmVsIT0iYW55Iil7DQogICAgICAgICAgICAgICAgaWYoY29udGV4dC5fc2VhcmNoQ3JpdGVyaWEubGV2ZWwgPT0gIlNQIil7DQogICAgICAgICAgICAgICAgICAgIHVybCA9IHVybCArICImcmFyZT0iKyBjb250ZXh0Ll9zZWFyY2hDcml0ZXJpYS5sZXZlbA0KICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgIHVybCA9IHVybCArICImbGV2PSIrIGNvbnRleHQuX3NlYXJjaENyaXRlcmlhLmxldmVsDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgaWYoY29udGV4dC5fc2VhcmNoQ3JpdGVyaWEuY2x1YiE9LTEpew0KICAgICAgICAgICAgICAgIHVybCA9IHVybCArICImdGVhbT0iKyBjb250ZXh0Ll9zZWFyY2hDcml0ZXJpYS5jbHViDQogICAgICAgICAgICB9DQogICAgICAgICAgICBpZihjb250ZXh0Ll9zZWFyY2hDcml0ZXJpYS5fem9uZSE9LTEpew0KICAgICAgICAgICAgICAgIHZhciB6b25lcyA9IHsNCiAgICAgICAgICAgICAgICAgICAgIjEzMCI6ICJkZWZlbnNlIiwNCiAgICAgICAgICAgICAgICAgICAgIjEzMSI6ICJtaWRmaWVsZCIsDQogICAgICAgICAgICAgICAgICAgICIxMzIiOiAiYXR0YWNrZXIiIA0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB1cmwgPSB1cmwgKyAiJnpvbmU9Iisgem9uZXNbY29udGV4dC5fc2VhcmNoQ3JpdGVyaWEuX3pvbmVdDQogICAgICAgICAgICB9DQogICAgICAgICAgICBpZihjb250ZXh0Ll9zZWFyY2hDcml0ZXJpYS5wb3NpdGlvbiE9ImFueSIpew0KICAgICAgICAgICAgICAgIHVybCA9IHVybCArICImcG9zPSIrIGNvbnRleHQuX3NlYXJjaENyaXRlcmlhLnBvc2l0aW9uDQogICAgICAgICAgICB9DQogICAgICAgICAgICBpZihjb250ZXh0Ll9zZWFyY2hDcml0ZXJpYS5tYXNrZWREZWZJZCl7DQogICAgICAgICAgICAgICAgdXJsID0gdXJsICsgIiZtYXNrZWREZWZJZD0iKyBjb250ZXh0Ll9zZWFyY2hDcml0ZXJpYS5tYXNrZWREZWZJZA0KICAgICAgICAgICAgfSAgICANCiAgICAgICAgICAgIGlmKGNvbnRleHQuX3NlYXJjaENyaXRlcmlhLmxlYWd1ZSE9LTEpew0KICAgICAgICAgICAgICAgIHVybCA9IHVybCArICImbGVhZz0iKyBjb250ZXh0Ll9zZWFyY2hDcml0ZXJpYS5sZWFndWUNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGlmKGNvbnRleHQuX3NlYXJjaENyaXRlcmlhLnBsYXlTdHlsZSE9LTEpew0KICAgICAgICAgICAgICAgIHVybCA9IHVybCArICImcGxheVN0eWxlPSIrIGNvbnRleHQuX3NlYXJjaENyaXRlcmlhLnBsYXlTdHlsZQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgaWYoY29udGV4dC5fc2VhcmNoQ3JpdGVyaWEubWluQnV5KXsNCiAgICAgICAgICAgICAgICB1cmwgPSB1cmwgKyAiJm1pbmI9IisgY29udGV4dC5fc2VhcmNoQ3JpdGVyaWEubWluQnV5DQogICAgICAgICAgICB9DQogICAgICAgICAgICBpZihjb250ZXh0Ll9zZWFyY2hDcml0ZXJpYS5tYXhCdXkpew0KICAgICAgICAgICAgICAgIHVybCA9IHVybCArICImbWF4Yj0iKyBjb250ZXh0Ll9zZWFyY2hDcml0ZXJpYS5tYXhCdXkNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGlmKGNvbnRleHQuX3NlYXJjaENyaXRlcmlhLm1pbkJpZCl7DQogICAgICAgICAgICAgICAgdXJsID0gdXJsICsgIiZtaWNyPSIrIGNvbnRleHQuX3NlYXJjaENyaXRlcmlhLm1pbkJpZA0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgaWYoY29udGV4dC5fc2VhcmNoQ3JpdGVyaWEubWluQmlkKXsNCiAgICAgICAgICAgICAgICB1cmwgPSB1cmwgKyAiJm1pY3I9IisgY29udGV4dC5fc2VhcmNoQ3JpdGVyaWEubWluQmlkDQogICAgICAgICAgICB9DQogICAgICAgICAgICBpZihjb250ZXh0Ll9zZWFyY2hDcml0ZXJpYS5tYXhCaWQpew0KICAgICAgICAgICAgICAgIHVybCA9IHVybCArICImbWFjcj0iKyBjb250ZXh0Ll9zZWFyY2hDcml0ZXJpYS5tYXhCaWQNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGlmKGNvbnRleHQuX3NlYXJjaENyaXRlcmlhLmRlZklkLmxlbmd0aD4wKXsNCiAgICAgICAgICAgICAgICB1cmwgPSB1cmwgKyAiJmRlZmluaXRpb25JZD0iKyBjb250ZXh0Ll9zZWFyY2hDcml0ZXJpYS5kZWZJZFswXQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgcmV0dXJuIHVybA0KICAgICAgICB9DQogICAgDQogICAgICAgIGZ1bmN0aW9uIHJlcXVlc3RJdGVtcygpew0KICAgICAgICAgICAgdmFyIHVybCA9IGAke3NlcnZpY2VzLkF1dGhlbnRpY2F0aW9uLnNlc3Npb25VdGFzLnVybH0vdXQvZ2FtZS9maWZhMjEvdHJhbnNmZXJtYXJrZXQ/bnVtPTIxJnN0YXJ0PSR7KGwtMSkqMjB9JnR5cGU9cGxheWVyYDsNCiAgICAgICAgICAgIHVybCA9IGFkZEZpbHRlcnMoY29udGV4dCx1cmwpDQogICAgICAgICAgICBmZXRjaCh1cmwsIHsNCiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7DQogICAgICAgICAgICAgICAgIlgtVVQtU0lEIjogc2VydmljZXMuQXV0aGVudGljYXRpb24uZ2V0VXRhc1Nlc3Npb24oKVsiaWQiXQ0KICAgICAgICAgICAgfX0pLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHsNCiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpOw0KICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbihkYXRhKSB7DQogICAgICAgICAgICAgICAgdXBkYXRlKGRhdGEsY29udGV4dCkgICAgICAgICAgICAgDQogICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbihlcnJvcil7DQogICAgICAgICAgICAgICAgc2VydmljZXMuTm90aWZpY2F0aW9uLnF1ZXVlKFtzZXJ2aWNlcy5Mb2NhbGl6YXRpb24ubG9jYWxpemUoInBvcHVwLmVycm9yLnNlYXJjaGVycm9yIiksZW51bXMuVUlOb3RpZmljYXRpb25UeXBlLk5FR0FUSVZFXSkNCiAgICAgICAgICAgICAgICB2b2lkIGNvbnRleHQuZ2V0TmF2aWdhdGlvbkNvbnRyb2xsZXIoKS5wb3BWaWV3Q29udHJvbGxlcigpOw0KICAgICAgICAgICAgfSkNCiAgICAgICAgfQ0KICAgIA0KICAgICAgICBmdW5jdGlvbiBzZXRJdGVtcyhjb250ZXh0LG8saSxyZXNwb25zZUl0ZW1zKXsNCiAgICAgICAgICAgIGlmIChjb250ZXh0Lm9uRGF0YUNoYW5nZS5ub3RpZnkoew0KICAgICAgICAgICAgICAgIGl0ZW1zOiBvDQogICAgICAgICAgICB9KSwNCiAgICAgICAgICAgIG8ubGVuZ3RoID4gaSAmJiAobyA9IG8uc2xpY2UoMCwgaSkpLA0KICAgICAgICAgICAgY29udGV4dC5fcGFnaW5hdGlvblZpZXdNb2RlbC5zZXRQYWdlSXRlbXMobyksDQogICAgICAgICAgICBjb250ZXh0Ll9wYWdpbmF0aW9uVmlld01vZGVsLnNldFBhZ2VJbmRleChsKSwNCiAgICAgICAgICAgIGNvbnRleHQuX3NlbGVjdGVkSXRlbSAmJiAwIDwgby5sZW5ndGgpIHsNCiAgICAgICAgICAgICAgICB2YXIgbiA9IGNvbnRleHQuX3BhZ2luYXRpb25WaWV3TW9kZWwuZ2V0SW5kZXhCeUl0ZW1JZChjb250ZXh0Ll9zZWxlY3RlZEl0ZW0uaWQpOw0KICAgICAgICAgICAgICAgIDAgPCBuICYmIGNvbnRleHQuX3BhZ2luYXRpb25WaWV3TW9kZWwuc2V0SW5kZXgobiksDQogICAgICAgICAgICAgICAgY29udGV4dC5fc2VsZWN0ZWRJdGVtID0gbnVsbA0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgdmFyIHMgPSBjb250ZXh0LmdldFZpZXcoKQ0KICAgICAgICAgICAgICAsIHIgPSBudWxsOw0KICAgICAgICAgICAgaWYgKCFjb250ZXh0Ll9zdGFkaXVtVmlld21vZGVsIHx8IGNvbnRleHQuX3NlYXJjaENyaXRlcmlhLnR5cGUgIT09IFNlYXJjaFR5cGUuVkFOSVRZICYmIGNvbnRleHQuX3NlYXJjaENyaXRlcmlhLnR5cGUgIT09IFNlYXJjaFR5cGUuQ0xVQl9JTkZPICYmIGNvbnRleHQuX3NlYXJjaENyaXRlcmlhLnR5cGUgIT09IFNlYXJjaFR5cGUuQkFMTCB8fCAociA9IGNvbnRleHQuX3N0YWRpdW1WaWV3bW9kZWwuZ2V0U3RhZGl1bVByb2dyZXNzaW9uKGNvbnRleHQuX3NlYXJjaENyaXRlcmlhLnN1YnR5cGVzKSksDQogICAgICAgICAgICBzLnNldEl0ZW1zKGNvbnRleHQuX3BhZ2luYXRpb25WaWV3TW9kZWwuZ2V0Q3VycmVudFBhZ2VJdGVtcygpLCByKSwNCiAgICAgICAgICAgIHMuc2V0UGFnaW5hdGlvblN0YXRlKDEgPCBsLCByZXNwb25zZUl0ZW1zLmxlbmd0aCA+IGkpLA0KICAgICAgICAgICAgSlNVdGlscy5pc1ZhbGlkKGNvbnRleHQuX2NvbXBhcmVJdGVtKSAmJiAhY29udGV4dC5fc3F1YWRDb250ZXh0KSB7DQogICAgICAgICAgICAgICAgdmFyIGEgPSBKU1V0aWxzLmZpbmQobywgZnVuY3Rpb24oZSkgew0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gZS5nZXRBdWN0aW9uRGF0YSgpLnRyYWRlSWQgPT09IGNvbnRleHQuX2NvbXBhcmVJdGVtLmdldEF1Y3Rpb25EYXRhKCkudHJhZGVJZA0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAuYmluZChjb250ZXh0KSk7DQogICAgICAgICAgICAgICAgSlNVdGlscy5pc1ZhbGlkKGEpID8gY29udGV4dC5fcGlubmVkTGlzdEl0ZW0uc2V0SXRlbShhKSA6IGNvbnRleHQuX3BhZ2luYXRpb25WaWV3TW9kZWwuc2V0UGlubmVkSXRlbShjb250ZXh0Ll9jb21wYXJlSXRlbSkNCiAgICAgICAgICAgIH0gZWxzZQ0KICAgICAgICAgICAgICAgICFpc1Bob25lKCkgJiYgMCA8IG8ubGVuZ3RoICYmIHMuc2VsZWN0TGlzdFJvdyhjb250ZXh0Ll9wYWdpbmF0aW9uVmlld01vZGVsLmdldEN1cnJlbnRJdGVtKCkuaWQpDQogICAgICAgIH0NCiAgICB9DQp9KSgpOw=="